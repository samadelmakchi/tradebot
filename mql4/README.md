# MetaTrader 4 (MQL4)

**MetaTrader 4 (MT4)** یکی از محبوب‌ترین پلتفرم‌های معاملاتی برای فارکس و CFD است که توسط تریدرهای خرد و مؤسسات مالی مورد استفاده قرار می‌گیرد. این پلتفرم با رابط کاربری ساده، سرعت بالا و پشتیبانی از معاملات الگوریتمی، همچنان مورد علاقه بسیاری از معامله‌گران حرفه‌ای است. برخلاف نسخه جدیدتر MT5، این پلتفرم فقط از Hedging پشتیبانی می‌کند و فاقد برخی قابلیت‌های پیشرفته مانند عمق بازار (DOM) است. با این حال، سبک بودن، منابع آموزشی گسترده و پشتیبانی از اکسپرت‌های سفارشی باعث شده است که MT4 همچنان یکی از بهترین انتخاب‌ها برای تریدرها باشد.

**MQL4** زبان برنامه‌نویسی اختصاصی MetaTrader 4 است که برای توسعه اکسپرت ادوایزرها (EA)، اندیکاتورها و اسکریپت‌های معاملاتی استفاده می‌شود. این زبان از نظر ساختاری به C شباهت دارد و نسبت به MQL5 ساده‌تر است، اما همچنان امکان کدنویسی استراتژی‌های پیچیده معاملاتی را فراهم می‌کند. در MQL4، معامله‌گران می‌توانند با استفاده از توابع معاملاتی، حلقه‌ها و شروط منطقی، ربات‌های معاملاتی بسازند و بازار را تحلیل کنند.

##  چگونه در MetaTrader 4 یک اکسپرت (Expert Advisor) بنویسیم؟

1. باز کردن محیط توسعه (MetaEditor)
- در MetaTrader 4، از منوی Tools گزینه MetaEditor را انتخاب کنید.
- یا با فشار دادن F4 وارد محیط کدنویسی شوید.

2. ایجاد یک اکسپرت جدید
- در MetaEditor، روی New کلیک کنید.
- گزینه Expert Advisor (template) را انتخاب کنید و یک نام برای اکسپرت خود وارد کنید.
- بر روی Next کلیک کرده و تنظیمات اولیه را انجام دهید، سپس Finish را بزنید.

## اجرا و تست اکسپرت در MetaTrader 4

1. کامپایل کد
- در MetaEditor، پس از نوشتن کد، روی Compile کلیک کنید تا اکسپرت کامپایل شود.
- فایل کامپایل‌شده با پسوند .ex4 در مسیر MQL4/Experts/ ذخیره می‌شود.

2. اجرای اکسپرت
- در MetaTrader 4، از پنجره Navigator اکسپرت خود را پیدا کرده و روی نمودار درگ کنید.
- اطمینان حاصل کنید که Algo Trading فعال باشد.

3. بک‌تست اکسپرت
- از منوی View گزینه Strategy Tester را باز کنید.
- اکسپرت خود را انتخاب کرده، جفت‌ارز و تایم‌فریم موردنظر را تنظیم کنید.
- روی Start کلیک کنید تا تست آغاز شود.

## نکات:

- در MQL4، برای رسم خطوط افقی از ObjectCreate() و تنظیم ویژگی‌های آن استفاده می‌شود.

- ارسال هشدارها در MQL4 از طریق Alert()، SendMail() و Print() انجام می‌شود.

- اجرای معاملات الگوریتمی در MQL4 با استفاده از OrderSend() برای اجرای سفارشات و OrderModify() برای تغییر آن‌ها انجام می‌شود.

